<!DOCTYPE html>
<!-- saved from url=(0022)http://127.0.0.1:5000/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Zodiac Bot</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1em}.svg-inline--fa.fa-stack-2x{height:2em;width:2em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}</style><link rel="stylesheet" href="./final_test_files/style.css">
  <script src="./final_test_files/jquery-3.5.1.min.js.ä¸‹è½½"></script>
</head>

<body>
  <!-- partial:index.partial.html -->
  <section class="msger">
    <header class="msger-header">
      <div class="msger-header-title">
        <!--i class="fas fa-bug"></i> Zodiac Bot <i class="fas fa-bug"></i-->
		ðŸ”® Zodiac Bot ðŸ”®
      </div>
    </header>

    <main class="msger-chat">
    
<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:03</div>
	</div>
	<div class="msg-text">
	  Hi, welcome to Rasa Zodiac Bot! Go ahead and send me a message. âœ¡
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:04</div>
	</div>
	<div class="msg-text">
	  Hi
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:04</div>
	</div>
	<div class="msg-text">
	  Hey! How are you?
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:04</div>
	</div>
	<div class="msg-text">
	  How are you?
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:04</div>
	</div>
	<div class="msg-text">
	  I'm just a robot dedicated to serving others.
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:04</div>
	</div>
	<div class="msg-text">
	  The origin of Leo?
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:04</div>
	</div>
	<div class="msg-text">
	  Sorry, I don't understand.
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:05</div>
	</div>
	<div class="msg-text">
	  What's wrong with Leo
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:05</div>
	</div>
	<div class="msg-text">
	  Sorry, I don't understand.
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:05</div>
	</div>
	<div class="msg-text">
	  What does Leo do in their leisure time?
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:05</div>
	</div>
	<div class="msg-text">
	  Leo has very little leisure time and will think about how to get busy several times
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  Leo woman
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  Pretending to be strong.She is romantic and generous by nature, and he likes high quality goods. They often dress luxuriantly and shine brightly, and their manners are full of brilliance. Their inborn temperament gives people the image of indifference and domineering, and they have their own personality. They are born with a kind of imposing manner, not deliberately pretended, but born. And very strong, the pursuit of perfection
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  Tarus hobbies
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  Taurus is the classic version, had saved so much money, in addition to meet its own security is to satisfy his desire to eat all over the world, but in fact they often with friends discuss research and development of various new dishes, cooking and also recommend food from all over the world to each other, so the Taurus hobby is how tasted the food. Taurus appreciates lasting relationships and is used to a safe and comfortable environment. In fact, the ability to find value is also a reflection of your own worth and taste, whether it's food, music, stocks or real estate. The Taurus enjoys a peaceful and comfortable life through the accumulation of lasting value. Taurus's stable personality is reserved and does not like change. They are very patient and never impatient. The patron saint of Taurus is a symbol of love and beauty Venus, they have very good taste and full of artistic cells, so the interests of Taurus, culture and art related interest and the hobby is very good choice, like hobbies can cultivate a work of art collection, to participate in art activities.
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  Bye!
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  Bye
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  What goes after Tarus?
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:06</div>
	</div>
	<div class="msg-text">
	  Taurus's next sign is Gemini
	</div>
  </div>
</div>

<div class="msg right-msg">
  <div class="msg-img" style="background-image: url(static/profiles/personimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">You</div>
      <div class="msg-info-time">14:07</div>
	</div>
	<div class="msg-text">
	  Leo's hobbies?
	</div>
  </div>
</div>

<div class="msg left-msg">
  <div class="msg-img" style="background-image: url(static/profiles/botimg.svg)"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">Zodiac Bot</div>
      <div class="msg-info-time">14:07</div>
	</div>
	<div class="msg-text">
	  The Leo is quite romantic, and loves beautiful things, showing off, luxury and being surrounded and admired. Leos are life-loving, fun-loving, brave, and stick to principles and ideas.
	</div>
  </div>
</div>
</main>

    <form class="msger-inputarea">
      <input type="text" class="msger-input" id="textInput" placeholder="Enter your message...">
      <button type="submit" class="msger-send-btn">Send</button>
    </form>
  </section>
  <!-- partial -->
  <script src="./final_test_files/all.js.ä¸‹è½½"></script>
  <script>

    const msgerForm = get(".msger-inputarea");
    const msgerInput = get(".msger-input");
    const msgerChat = get(".msger-chat");


    const BOT_IMG = "static/profiles/botimg.svg";//"https://image.flaticon.com/icons/svg/327/327779.svg";
    const PERSON_IMG = "static/profiles/personimg.svg";//"https://image.flaticon.com/icons/svg/145/145867.svg";
    const BOT_NAME = "Zodiac Bot";
    const PERSON_NAME = "You";

    msgerForm.addEventListener("submit", event => {
      event.preventDefault();

      const msgText = msgerInput.value;
      if (!msgText) return;

      appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
      msgerInput.value = "";
      botResponse(msgText);
    });

	function appendMessage(name, img, side, text) {
	  appendMessageTxt(name, img, side, text);
	}
    function appendMessageTxt(name, img, side, text) {
      //   Simple solution for small app
      const msgHTML = `
<div class="msg ${side}-msg">
  <div class="msg-img" style="background-image: url(${img})"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">${name}</div>
      <div class="msg-info-time">${formatDate(new Date())}</div>
	</div>
	<div class="msg-text">
	  ${text}
	</div>
  </div>
</div>
`;

      msgerChat.insertAdjacentHTML("beforeend", msgHTML);
      msgerChat.scrollTop += 500;
	}
    function appendMessageImg(name, img, side, imgsrc) {
      const msgHTML = `
<div class="msg ${side}-msg">
  <div class="msg-img" style="background-image: url(${img})"></div>
  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">${name}</div>
      <div class="msg-info-time">${formatDate(new Date())}</div>
	</div>
	<img src=${imgsrc} />
  </div>
</div>
`;
      msgerChat.insertAdjacentHTML("beforeend", msgHTML);
      msgerChat.scrollTop += 500;
    }

    function botResponse(rawText) {

      // Bot Response
      $.get("/get", { msg: rawText }).done(function (data) {
        console.log(rawText);
        console.log(data);
		var list = eval('('+data+')')
		for (var i=0; i<list.length; i++) {
		  var msgStruct = list[i];
		  const type = msgStruct[0];
	      const content = msgStruct[1];
		  const side = "left";
		  if (type == "text") {
		    appendMessageTxt(BOT_NAME, BOT_IMG, side, content);
		  }
		  if (type == "image") {
		    appendMessageImg(BOT_NAME, BOT_IMG, side, content);
		  }
		}

      });

    }


    // Utils
    function get(selector, root = document) {
      return root.querySelector(selector);
    }

    function formatDate(date) {
      const h = "0" + date.getHours();
      const m = "0" + date.getMinutes();

      return `${h.slice(-2)}:${m.slice(-2)}`;
    }
    // flag
    appendMessageTxt(BOT_NAME, BOT_IMG, "left", "Hi, welcome to Rasa Zodiac Bot! Go ahead and send me a message. âœ¡")




  </script>



</body></html>